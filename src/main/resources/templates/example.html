<!DOCTYPE html>
<html lang="en" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Shop</title>

    <script src="js/jquery-3.1.1.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="api/ajaxFetch.js"></script>
    <script
            src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.0/umd/popper.min.js"
            integrity="sha384-cs/chFZiN24E4KMATLdqdvsezGxaGsi4hLGOzlXwp5UZB1LY//20VyM2taTB4QvJ"
            crossorigin="anonymous"></script>
    <link href="font-awesome/css1/all.css" rel="stylesheet" type="text/css">
    <link rel="stylesheet" href="css/style4.css" type="text/css">
    <link rel="stylesheet" href="css/card.css" type="text/css">
    <link rel="stylesheet" href="css/cart.css" type="text/css">
    <link rel="stylesheet" href="css/bootstrap.css" type="text/css">
    <link rel="stylesheet" href="css/bootstrap-select.min.css" type="text/css">
    <link rel="icon" href="images/icon.png"/>
    <script type="text/javascript" src="font-awesome/js1/fontawesome.js"></script>
</head>
<div class="row g-2">
    <div class="col-md-3" th:fragment="generalSection">

        <div class="accordion" id="accordionExample">
            <div class="card">
                <div class="card-header" id="headingOne">
                    <h2 class="mb-0">
                        <button
                                class="btn btn-link btn-block text-left text-uppercase"
                                type="button" data-toggle="collapse"
                                data-target="#collapseOne" aria-expanded="true"
                                aria-controls="collapseOne">Categories
                        </button>
                    </h2>
                </div>
            </div>
            <!--                        <div id="collapseTwo" class="collapse"-->
            <!--                             aria-labelledby="headingTwo" data-parent="#accordionExample">-->
            <!--                            <div class="card-body category">-->
            <!--                                <div class="brand p-2">-->
            <!--                                    <div th:each="brand : ${brands}"-->
            <!--                                         class="d-flex justify-content-between mt-2">-->
            <!--                                        <div class="form-check">-->
            <!--                                            <input class="form-check-input" type="checkbox" value=""-->
            <!--                                                   id="flexCheckDefault"> <label-->
            <!--                                                class="form-check-label" for="flexCheckDefault"-->
            <!--                                                th:text="${#strings.capitalizeWords(brand)}"> </label>-->
            <!--                                        </div>-->
            <!--                                    </div>-->
            <!--                                </div>-->
            <!--                            </div>-->
            <!--                        </div>-->
        </div>
        <div class="card">
            <div class="card-header" id="headingThree">
                <h2 class="mb-0">
                    <button
                            class="btn btn-link btn-block text-left collapsed text-uppercase"
                            type="button" data-toggle="collapse"
                            data-target="#collapseThree" aria-expanded="false"
                            aria-controls="collapseThree">Filters
                    </button>
                </h2>
            </div>
            <!--                        <div id="collapseThree" class="collapse"-->
            <!--                             aria-labelledby="headingThree" data-parent="#accordionExample">-->
            <!--                            <div class="card-body">-->
            <!--                                <div class="type p-2 mb-2">-->

            <!--                                    <div class="d-flex justify-content-between mt-2">-->
            <!--                                        <form action="search" method="get">-->
            <!--                                            <p class="text-uppercase">filtre by gategory</p>-->
            <!--                                            <div class="mb-3">-->
            <!--                                                <div class="form-group">-->
            <!--                                                    <input type="text" class="form-control-sm is-valid"-->
            <!--                                                           name="action" value="byCategoryCretiria"-->
            <!--                                                           hidden="hidden"/>-->

            <!--                                                    <input type="text" class="form-control-sm input-filter"-->
            <!--                                                           placeholder="category" id="exampleInputEmail1"-->
            <!--                                                           name="creteria"/>-->
            <!--                                                </div>-->
            <!--                                            </div>-->

            <!--                                            <button type="submit"-->
            <!--                                                    class="btn btn-outline-success btn-sm form-control">search-->
            <!--                                            </button>-->
            <!--                                        </form>-->
            <!--                                    </div>-->
            <!--                                    <div class="d-flex justify-content-between mt-4">-->
            <!--                                        <form action="search" method="get">-->
            <!--                                            <p class="text-uppercase">fillter by price</p>-->
            <!--                                            <div class="form-group">-->
            <!--                                                <input type="text" class="form-control-sm input-filter"-->
            <!--                                                       name="action" hidden="hidden" value="Byprice"/>-->
            <!--                                                <div class="form-group">-->
            <!--                                                    <input type="number" class="form-control-sm input-filter"-->
            <!--                                                           name="price" placeholder="price"/>-->
            <!--                                                </div>-->
            <!--                                            </div>-->
            <!--                                            <button type="submit"-->
            <!--                                                    class="btn btn-outline-success btn-sm form-control">search-->
            <!--                                            </button>-->
            <!--                                        </form>-->
            <!--                                    </div>-->

            <!--                                </div>-->
            <!--                            </div>-->
            <!--                        </div>-->
        </div>
        <!--                    <div class="card mb-2">-->
        <!--                        <div class="card-header" id="headingThree">-->
        <!--                            <h2 class="mb-0">-->
        <!--                                <button-->
        <!--                                        class="btn btn-link btn-block text-left text-uppercase"-->
        <!--                                        type="button" data-toggle="collapse"-->
        <!--                                        data-target="#collapseTfour" aria-expanded="true"-->
        <!--                                        aria-controls="collapseTfour">Featured Product-->
        <!--                                </button>-->
        <!--                            </h2>-->
        <!--                        </div>-->
        <!--                    </div>-->
    </div>
    <div class="col-md-9">
        <div class="row g-2">
            <div class="col-md-4 mb-2" th:each="product : ${products}">
                <div class="product py-4">

                    <div class="text-center">
                        <!--                    <img th:src="*{'data:image/jpeg;base64,'+{product.image}}"-->
                        <!--                         width="200">-->
                    </div>
                    <div class="about text-center">
                        <h5>[[${product.name}]]</h5>
                        <span>$[[${product.price}]]</span>
                    </div>
                    <div class="cart-button mt-3 px-2 d-flex justify-content-between align-items-center">
                        <button class="btn btn-primary text-uppercase"
                                data-toggle="modal"
                                th:attr="data-target='#exampleModalCenter'+*{product.id}">Add
                            to cart
                        </button>

                        <!-- Modal -->
                        <div class="modal fade bg-dark"
                             th:id="*{'exampleModalCenter'+{product.id}}"
                             data-backdrop="static" data-keyboard="false" tabindex="-1"
                             aria-labelledby="staticBackdropLabel" aria-hidden="true">
                            <div class="modal-dialog modal-dialog-centered">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <h5 class="modal-title" id="staticBackdropLabel">add
                                            to cart</h5>
                                        <button type="button" class="close" data-dismiss="modal"
                                                aria-label="Close">
                                            <span aria-hidden="true">&times;</span>
                                        </button>
                                    </div>
                                    <div class="modal-body">
                                        <div class="card">
                                            <img th:src="*{'data:image/jpeg;base64,'+{product.image}}"
                                                 height="250px" class="card-img-top" alt="...">
                                            <div class="card-body">
                                                <form action="/addToCart" method="POSt">
                                                    <input type="hidden" name="id"
                                                           th:value="${product.id}"/>
                                                    <input type="number" min="1" value="1" name="quantity"
                                                           class="form-control" placeholder="quantity"/>
                                                    <button type="submit" class="btn btn-primary mt-2">
                                                        submit
                                                    </button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>

                                </div>
                            </div>
                        </div>
                        <div class="add">
                            <a th:href="@{/addToWishlist/{id}(id = ${product.id})}" class="product_fav"><i
                                    class="fa fa-heart"></i></a>
                            <a th:href="@{/detail/{id}(id = ${product.id})}"
                               class="product_fav"><i class="fab fa-opencart"></i></a>
                        </div>
</div>

<!--<div class="col-md-9">-->
<!--    <div class="row g-2">-->
<!--        <div class="col-md-4 mb-2" th:each="product : ${products}">-->
<!--            <div class="product py-4">-->

<!--                <div class="text-center">-->
<!--                    &lt;!&ndash;                    <img th:src="*{'data:image/jpeg;base64,'+{product.image}}"&ndash;&gt;-->
<!--                    &lt;!&ndash;                         width="200">&ndash;&gt;-->
<!--                </div>-->
<!--                <div class="about text-center">-->
<!--                    <h5>[[${product.name}]]</h5>-->
<!--                    <span>$[[${product.price}]]</span>-->
<!--                </div>-->
<!--                <div class="cart-button mt-3 px-2 d-flex justify-content-between align-items-center">-->
<!--                    <button class="btn btn-primary text-uppercase"-->
<!--                            data-toggle="modal"-->
<!--                            th:attr="data-target='#exampleModalCenter'+*{product.id}">Add-->
<!--                        to cart-->
<!--                    </button>-->

<!--                    &lt;!&ndash; Modal &ndash;&gt;-->
<!--                    <div class="modal fade bg-dark"-->
<!--                         th:id="*{'exampleModalCenter'+{product.id}}"-->
<!--                         data-backdrop="static" data-keyboard="false" tabindex="-1"-->
<!--                         aria-labelledby="staticBackdropLabel" aria-hidden="true">-->
<!--                        <div class="modal-dialog modal-dialog-centered">-->
<!--                            <div class="modal-content">-->
<!--                                <div class="modal-header">-->
<!--                                    <h5 class="modal-title" id="staticBackdropLabel">add-->
<!--                                        to cart</h5>-->
<!--                                    <button type="button" class="close" data-dismiss="modal"-->
<!--                                            aria-label="Close">-->
<!--                                        <span aria-hidden="true">&times;</span>-->
<!--                                    </button>-->
<!--                                </div>-->
<!--                                <div class="modal-body">-->
<!--                                    <div class="card">-->
<!--                                        <img th:src="*{'data:image/jpeg;base64,'+{product.image}}"-->
<!--                                             height="250px" class="card-img-top" alt="...">-->
<!--                                        <div class="card-body">-->
<!--                                            <form action="/addToCart" method="POSt">-->
<!--                                                <input type="hidden" name="id"-->
<!--                                                       th:value="${product.id}"/>-->
<!--                                                <input type="number" min="1" value="1" name="quantity"-->
<!--                                                       class="form-control" placeholder="quantity"/>-->
<!--                                                <button type="submit" class="btn btn-primary mt-2">-->
<!--                                                    submit-->
<!--                                                </button>-->
<!--                                            </form>-->
<!--                                        </div>-->
<!--                                    </div>-->
<!--                                </div>-->

<!--                            </div>-->
<!--                        </div>-->
<!--                    </div>-->
<!--                    <div class="add">-->
<!--                        <a th:href="@{/addToWishlist/{id}(id = ${product.id})}" class="product_fav"><i-->
<!--                                class="fa fa-heart"></i></a>-->
<!--                        <a th:href="@{/detail/{id}(id = ${product.id})}"-->
<!--                           class="product_fav"><i class="fab fa-opencart"></i></a>-->
<!--                    </div>-->

                </div>
            </div>
        </div>
    </div>
</div>